
#:import utils kivy.utils

<UI>:
    #Pantalla principal
    Screen:
        name: 'principal'
        BoxLayout:
            orientation: 'vertical'
            
            MDToolbar:
                title: 'TuConsejeroEmocional'
                
                md_bg_color: rgba(0,0,1,0) #Cambiar color de fondo de la barra de navegación.
                #specific_text_color: utils.get_color_from_hex('#1C529D') #Cambiar color de la letra de la barra de navegación.

            #Barra inferior
            MDBottomNavigation:
                #panel_color: utils.get_color_from_hex('#8CB4EB') #Cambiar color de la barra inferior

                MDBottomNavigationItem:
                    name: 'menu'
                    text: 'Menú'
                    icon: 'home'
                    
                    MDLabel:
                        text: 'Empezemos con un pequeño \ntest para poder guíarte y \nescucharte:'
                        halign: 'center'  
                        pos_hint: {'center_x': .5,'center_y': .7 }
                        #size_hint: (.5, None)
                        

                    MDRaisedButton:
                        text: '¡Toma el Test \nEmocional!'
                        md_bg_color: utils.get_color_from_hex('#FFFFFF')
                        text_color: utils.get_color_from_hex('#000000')
                        bold: True
                        font_size: 20
                        halign: 'center'
                        pos_hint: {'center_x': .5, 'center_y': .5}
                        size_hint: (.4, .2)
                        on_release: root.current = 'pregunta1'
                        on_press: app.preguntas_definicion()


                MDBottomNavigationItem:
                    name: 'multimedia'
                    text: 'Multimedia'
                    icon: 'youtube'

                    MDLabel:
                        text: 'Python'
                        halign: 'center'


    #Pantalla para la pregunta 1
    Screen:
        name: 'pregunta1'
        BoxLayout:
            orientation: 'vertical'
            padding: 20
            spacing: 10
            MDLabel:
                text:'Pregunta 1' 
                # valign: 'top'
                size_hint: (1, .05)
                pos_hint: {'top': 1}
                bold: True
            
            MDLabel:
                id: pregunta1
                text: 'pregunta'
                size_hint: (1, .08)
                pos_hint: {'center_y': .8}
            
            MDGridLayout:
                cols: 2
                row: 5
                cols_minimum: {0: 30, 1: 200}
                size_hint: (None, .2)
                
                # size_hint: (1, .3)
                # col_force_default: True
                # col_default_width: 100

                CheckBox:
                    group: 'R1'
                    on_active: app.enviar_resultado(self, self.active, pregunta1.text, respuesta1_1.text)
                MDLabel:
                    id: respuesta1_1
                    text: 'Respuesta1'
                
                CheckBox:
                    group: 'R1'
                    on_active: app.enviar_resultado(self, self.active, pregunta1.text, respuesta2_1.text)
                MDLabel:
                    id: respuesta2_1
                    text: 'Respuesta2'
                
                CheckBox:
                    group: 'R1'
                    on_active: app.enviar_resultado(self, self.active, pregunta1.text, respuesta3_1.text)
                MDLabel:
                    id: respuesta3_1
                    text: 'Respuesta3'
                
                CheckBox:
                    group: 'R1'
                    on_active: app.enviar_resultado(self, self.active, pregunta1.text, respuesta4_1.text)
                MDLabel:
                    id: respuesta4_1
                    text: 'Respuesta4'
                
                CheckBox:
                    group: 'R1'
                    on_active: app.enviar_resultado(self, self.active, pregunta1.text, respuesta5_1.text)
                MDLabel:
                    id: respuesta5_1
                    text: 'Respuesta5'
            
            #Botón siguiente
            MDFillRoundFlatIconButton:
                icon: 'arrow-right-bold'
                icon_color: utils.get_color_from_hex('#000000')
                icon_size: 25
                text: 'Siguiente'
                md_bg_color: utils.get_color_from_hex('#FFFFFF')
                text_color: utils.get_color_from_hex('#000000')
                on_release: 
                    root.current = 'pregunta2'
                    root.transition.direction = 'left'


    #pantalla para la pregunta 2     
    Screen:
        name: 'pregunta2'
        BoxLayout:
            orientation: 'vertical'
            padding: 20
            spacing: 10
            MDLabel:
                text:'Pregunta 2' 
                # valign: 'top'
                size_hint: (1, .05)
                pos_hint: {'top': 1}
                bold: True
            
            MDLabel:
                id: pregunta2
                text: 'pregunta'
                size_hint: (1, .08)
                pos_hint: {'center_y': .8}
            
            MDGridLayout:
                cols: 2
                row: 5
                cols_minimum: {0: 30, 1: 200}
                size_hint: (None, .2)

                CheckBox:
                    group: 'R2'
                    on_active: app.enviar_resultado(self, self.active, pregunta2.text, respuesta1_2.text)
                MDLabel:
                    id: respuesta1_2
                    text: 'Respuesta1'
                
                CheckBox:
                    group: 'R2'
                    on_active: app.enviar_resultado(self, self.active, pregunta2.text, respuesta2_2.text)
                MDLabel:
                    id: respuesta2_2
                    text: 'Respuesta2'
                
                CheckBox:
                    group: 'R2'
                    on_active: app.enviar_resultado(self, self.active, pregunta2.text, respuesta3_2.text)
                MDLabel:
                    id: respuesta3_2
                    text: 'Respuesta3'
                
                CheckBox:
                    group: 'R2'
                    on_active: app.enviar_resultado(self, self.active, pregunta2.text, respuesta4_2.text)
                MDLabel:
                    id: respuesta4_2
                    text: 'Respuesta4'
                
                CheckBox:
                    group: 'R2'
                    on_active: app.enviar_resultado(self, self.active, pregunta2.text, respuesta5_2.text)
                MDLabel:
                    id: respuesta5_2
                    text: 'Respuesta5'

            MDGridLayout:
                cols: 2
                # cols_minimum: {0: 175, 1: 175}
                spacing: 110
                size_hint: (1, .03)
                
                MDFillRoundFlatIconButton:
                    icon: 'arrow-left-bold'
                    icon_color: utils.get_color_from_hex('#000000')
                    icon_size: 25
                    text: 'Atras'
                    md_bg_color: utils.get_color_from_hex('#FFFFFF')
                    text_color: utils.get_color_from_hex('#000000')
                    on_release: 
                        root.current = 'pregunta1'
                        root.transition.direction = 'right'

                #Botón siguiente
                MDFillRoundFlatIconButton:
                    icon: 'arrow-right-bold'
                    icon_color: utils.get_color_from_hex('#000000')
                    icon_size: 25
                    text: 'Siguiente'
                    md_bg_color: utils.get_color_from_hex('#FFFFFF')
                    text_color: utils.get_color_from_hex('#000000')
                    on_release: 
                        root.current = 'pregunta3'
                        root.transition.direction = 'left'

                

    #Pantalla para la pregunta 3
    Screen:
        name: 'pregunta3'
        BoxLayout:
            orientation: 'vertical'
            padding: 20
            spacing: 10
            MDLabel:
                text:'Pregunta 3' 
                # valign: 'top'
                size_hint: (1, .05)
                pos_hint: {'top': 1}
                bold: True
            
            MDLabel:
                id: pregunta3
                text: 'pregunta'
                size_hint: (1, .08)
                pos_hint: {'center_y': .8}
            
            MDGridLayout:
                cols: 2
                row: 5
                cols_minimum: {0: 30, 1: 200}
                size_hint: (None, .2)
                CheckBox:
                    group: 'R3'
                    on_active: app.enviar_resultado(self, self.active, pregunta3.text, respuesta1_3.text)
                MDLabel:
                    id: respuesta1_3
                    text: 'Respuesta1'
                
                CheckBox:
                    group: 'R3'
                    on_active: app.enviar_resultado(self, self.active, pregunta3.text, respuesta2_3.text)
                MDLabel:
                    id: respuesta2_3
                    text: 'Respuesta2'
                
                CheckBox:
                    group: 'R3'
                    on_active: app.enviar_resultado(self, self.active, pregunta3.text, respuesta3_3.text)
                MDLabel:
                    id: respuesta3_3
                    text: 'Respuesta3'
                
                CheckBox:
                    group: 'R3'
                    on_active: app.enviar_resultado(self, self.active, pregunta3.text, respuesta4_3.text)
                MDLabel:
                    id: respuesta4_3
                    text: 'Respuesta4'
                
                CheckBox:
                    group: 'R3'
                    on_active: app.enviar_resultado(self, self.active, pregunta3.text, respuesta5_3.text)
                MDLabel:
                    id: respuesta5_3
                    text: 'Respuesta5'

            MDGridLayout:
                cols: 2
                spacing: 110
                size_hint: (1, .03)
                MDFillRoundFlatIconButton:
                    icon: 'arrow-left-bold'
                    icon_color: utils.get_color_from_hex('#000000')
                    icon_size: 25
                    text: 'Atras'
                    md_bg_color: utils.get_color_from_hex('#FFFFFF')
                    text_color: utils.get_color_from_hex('#000000')
                    on_release: 
                        root.current = 'pregunta2'
                        root.transition.direction = 'right'
                    
                #Botón siguiente
                MDFillRoundFlatIconButton:
                    icon: 'arrow-right-bold'
                    icon_color: utils.get_color_from_hex('#000000')
                    icon_size: 25
                    text: 'Siguiente'
                    md_bg_color: utils.get_color_from_hex('#FFFFFF')
                    text_color: utils.get_color_from_hex('#000000')
                    on_release: 
                        root.current = 'pregunta4'
                        root.transition.direction = 'left'

                


    #Pantalla para la pregunta 4
    Screen:
        name: 'pregunta4'
        BoxLayout:
            orientation: 'vertical'
            padding: 20
            spacing: 10
            MDLabel:
                text:'Pregunta 4' 
                # valign: 'top'
                size_hint: (1, .05)
                pos_hint: {'top': 1}
                bold: True
            
            MDLabel:
                id: pregunta4
                text: 'pregunta'
                size_hint: (1, .08)
                pos_hint: {'center_y': .8}
            
            MDGridLayout:
                cols: 2
                row: 5
                cols_minimum: {0: 30, 1: 200}
                size_hint: (None, .2)
                CheckBox:
                    group: 'R4'
                    on_active: app.enviar_resultado(self, self.active, pregunta4.text, respuesta1_4.text)
                MDLabel:
                    id: respuesta1_4
                    text: 'Respuesta1'
                
                CheckBox:
                    group: 'R4'
                    on_active: app.enviar_resultado(self, self.active, pregunta4.text, respuesta2_4.text)
                MDLabel:
                    id: respuesta2_4
                    text: 'Respuesta2'
                
                CheckBox:
                    group: 'R4'
                    on_active: app.enviar_resultado(self, self.active, pregunta4.text, respuesta3_4.text)
                MDLabel:
                    id: respuesta3_4
                    text: 'Respuesta3'
                
                CheckBox:
                    group: 'R4'
                    on_active: app.enviar_resultado(self, self.active, pregunta4.text, respuesta4_4.text)
                MDLabel:
                    id: respuesta4_4
                    text: 'Respuesta4'
                
                CheckBox:
                    group: 'R4'
                    on_active: app.enviar_resultado(self, self.active, pregunta4.text, respuesta5_4.text)
                MDLabel:
                    id: respuesta5_4
                    text: 'Respuesta5'

            MDGridLayout:
                cols: 2
                spacing: 110
                size_hint: (1, .03)
                MDFillRoundFlatIconButton:
                    icon: 'arrow-left-bold'
                    icon_color: utils.get_color_from_hex('#000000')
                    icon_size: 25
                    text: 'Atras'
                    md_bg_color: utils.get_color_from_hex('#FFFFFF')
                    text_color: utils.get_color_from_hex('#000000')
                    on_release: 
                        root.current = 'pregunta3'
                        root.transition.direction = 'right'

                #Botón siguiente
                MDFillRoundFlatIconButton:
                    icon: 'arrow-right-bold'
                    icon_color: utils.get_color_from_hex('#000000')
                    icon_size: 25
                    text: 'Siguiente'
                    md_bg_color: utils.get_color_from_hex('#FFFFFF')
                    text_color: utils.get_color_from_hex('#000000')
                    on_release: 
                        root.current = 'pregunta5'
                        root.transition.direction = 'left'

                

    #Pantalla para la pregunta 5
    Screen:
        name: 'pregunta5'
        BoxLayout:
            orientation: 'vertical'
            padding: 20
            spacing: 10
            MDLabel:
                text:'Pregunta 5' 
                # valign: 'top'
                size_hint: (1, .05)
                pos_hint: {'top': 1}
                bold: True
            
            MDLabel:
                id: pregunta5
                text: 'pregunta'
                size_hint: (1, .08)
                pos_hint: {'center_y': .8}
            
            MDGridLayout:
                cols: 2
                row: 5
                cols_minimum: {0: 30, 1: 200}
                size_hint: (None, .2)

                CheckBox:
                    group: 'R5'
                    on_active: app.enviar_resultado(self, self.active, pregunta5.text, respuesta1_5.text)
                MDLabel:
                    id: respuesta1_5
                    text: 'Respuesta1'
                
                CheckBox:
                    group: 'R5'
                    on_active: app.enviar_resultado(self, self.active, pregunta5.text, respuesta2_5.text)
                MDLabel:
                    id: respuesta2_5
                    text: 'Respuesta2'
                
                CheckBox:
                    group: 'R5'
                    on_active: app.enviar_resultado(self, self.active, pregunta5.text, respuesta3_5.text)
                MDLabel:
                    id: respuesta3_5
                    text: 'Respuesta3'
                
                CheckBox:
                    group: 'R5'
                    on_active: app.enviar_resultado(self, self.active, pregunta5.text, respuesta4_5.text)
                MDLabel:
                    id: respuesta4_5
                    text: 'Respuesta4'
                
                CheckBox:
                    group: 'R5'
                    on_active: app.enviar_resultado(self, self.active, pregunta5.text, respuesta5_5.text)
                MDLabel:
                    id: respuesta5_5
                    text: 'Respuesta5'

            MDGridLayout:
                cols: 2
                spacing: 110
                size_hint: (1, .03)
                MDFillRoundFlatIconButton:
                    icon: 'arrow-left-bold'
                    icon_color: utils.get_color_from_hex('#000000')
                    icon_size: 25
                    text: 'Atras'
                    md_bg_color: utils.get_color_from_hex('#FFFFFF')
                    text_color: utils.get_color_from_hex('#000000')
                    on_release: 
                        root.current = 'pregunta4'
                        root.transition.direction = 'right'

                #Botón finalizar
                MDFillRoundFlatIconButton:
                    icon: 'arrow-right-bold'
                    icon_color: utils.get_color_from_hex('#000000')
                    icon_size: 25
                    text: 'Finalizar'
                    md_bg_color: utils.get_color_from_hex('#FFFFFF')
                    text_color: utils.get_color_from_hex('#000000')
                    on_release: 
                        app.finalizar()
                        root.transition.direction = 'left'
                
                

    #Pantalla finalizar
    Screen:
        name: 'finalizar'
        BoxLayout:
            orientation: 'vertical'
            padding: 20
            spacing: 50
            MDLabel:
                text:'¡Listo, gracias por tus respuestas!' 
                # valign: 'top'
                size_hint: (1, .3)
                # pos_hint: {'center_x': .5}
                bold: True
                font_size: 24
                halign: 'center'
            

            MDLabel:
                text: 'Ahora verás nuestra sección Multimedia, donde podremos guíarte hacía tu mejor versión'
                size_hint: (1, .1)
                # pos_hint: {'center_y': .5}
                font_size: 20
                halign: 'center'
                

            Image: #acá se pone la imagen
                source: 'TuConsejeroEmocional_imagenes/letsgo.png'
                # allow_stretch: True

            MDFillRoundFlatIconButton:
                icon: 'arrow-right-bold'
                icon_color: utils.get_color_from_hex('#000000')
                icon_size: 25
                text: '¡Adelante!'
                md_bg_color: utils.get_color_from_hex('#FFFFFF')
                text_color: utils.get_color_from_hex('#000000')
                on_release: 
                    root.current = 'principal'
                    root.transition.direction = 'left'




#Webview
#Futura implementación que está siendo probada.
<MyWebView>
    MDFlatButton:
        text: "Push"
        pos_hint: {"center_x": .5, "center_y": .4}
        on_press: root.Push()

#Tambien hace parte de webview
<ModalView>
	size_hint: None, None
	size: 800, 800







